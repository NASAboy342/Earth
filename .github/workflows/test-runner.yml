name: Test Self-Hosted Runner

on:
  push:
    branches: [ main ]

jobs:
  test-runner:
    runs-on: self-hosted  # This will use your self-hosted runner
    
    steps:
    - name: ğŸƒâ€â™‚ï¸ Test Runner Connection
      run: |
        echo "ğŸ‰ Self-hosted runner is working!"
        echo "ğŸ–¥ï¸  Runner OS: $(uname -s)"
        echo "ğŸ—ï¸  Runner Architecture: $(uname -m)"
        echo "ğŸ“… Current Date: $(date)"
        echo "ğŸ“ Current Directory: $(pwd)"
        echo "ğŸ‘¤ Current User: $(whoami)"
        
    - name: ğŸ” Check Available Tools
      run: |
        echo "ğŸ› ï¸  Checking available tools..."
        echo "Git version: $(git --version || echo 'Git not found')"
        echo "Node version: $(node --version || echo 'Node not found')"
        echo "NPM version: $(npm --version || echo 'NPM not found')"
        echo "PowerShell version: $(pwsh --version || echo 'PowerShell not found')"
        
    - name: ğŸ§ª Test Basic Commands
      run: |
        echo "ğŸ§ª Running basic command tests..."
        echo "ğŸ“Š System uptime:"
        uptime || echo "Uptime command not available"
        echo "ğŸ’¾ Disk space:"
        df -h . || echo "df command not available"
        echo "ğŸ” Environment variables (filtered):"
        env | grep -E "^(PATH|HOME|USER|RUNNER)" | head -10 || echo "Environment check failed"
        
    - name: âœ… Test Complete
      run: |
        echo "ğŸŠ All tests completed successfully!"
        echo "âœ¨ Your self-hosted runner is ready to use!"
